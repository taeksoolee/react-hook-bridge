"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react");exports.useChildWindow=function({bridgeKey:t,connectUrl:n,callback:r}){const[s,o]=e.useState([]);return e.useEffect((()=>{window.opener.postMessage({type:t},n);const e=e=>{if(e.origin===n){const t=e.data.bridge;r&&r(t),o([...s,{date:new Date,message:t}])}};return window.addEventListener("message",e),()=>{window.removeEventListener("message",e)}}),[]),[s]},exports.useParentWindow=function({bridgeKey:t,connectUrl:n,getData:r}){const s=e.useRef(null);return e.useEffect((()=>{const e=e=>{var o;e.origin===n&&e.data.type===t&&r&&(null===(o=s.current)||void 0===o||o.postMessage({bridge:r()},n))};return window.addEventListener("message",e),()=>{window.removeEventListener("message",e)}}),[]),[()=>{s.current=window.open(n)},()=>{var e;null===(e=s.current)||void 0===e||e.close()}]};
//# sourceMappingURL=index.cjs.js.map
